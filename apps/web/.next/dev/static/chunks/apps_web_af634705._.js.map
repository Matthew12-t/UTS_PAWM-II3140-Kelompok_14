{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\"\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!)\r\n}\r\n"],"names":[],"mappings":";;;;AAG6B;AAH7B;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iTAAmB;AAC5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/ui/dropdown-menu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction DropdownMenu({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Trigger\r\n      data-slot=\"dropdown-menu-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',\r\n          className,\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = 'default',\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean\r\n  variant?: 'default' | 'destructive'\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioGroup\r\n      data-slot=\"dropdown-menu-radio-group\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn('bg-border -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuShortcut({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'span'>) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\r\n        'text-muted-foreground ml-auto text-xs tracking-widest',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSub({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  )\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/dashboard/user-menu.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type { User } from \"@supabase/supabase-js\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\"\r\n\r\nexport function UserMenu({ user }: { user: User }) {\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut()\r\n    router.push(\"/\")\r\n  }\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" className=\"rounded-full bg-transparent hover:bg-transparent p-0\">\r\n          <div className=\"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-lg\">\r\n            {user.user_metadata?.full_name?.charAt(0) || \"U\"}\r\n          </div>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        <DropdownMenuItem disabled>\r\n          <span className=\"text-sm\">{user.email}</span>\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem onClick={() => router.push(\"/dashboard/profile\")}>Profile</DropdownMenuItem>\r\n        <DropdownMenuItem onClick={() => router.push(\"/dashboard/settings\")}>Settings</DropdownMenuItem>\r\n        <DropdownMenuItem onClick={handleLogout} className=\"text-red-600\">\r\n          Logout\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAQO,SAAS,SAAS,EAAE,IAAI,EAAkB;;IAC/C,MAAM,SAAS,IAAA,2PAAS;IACxB,MAAM,WAAW,IAAA,2JAAY;IAE7B,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,sSAAC,uKAAY;;0BACX,sSAAC,8KAAmB;gBAAC,OAAO;0BAC1B,cAAA,sSAAC,uJAAM;oBAAC,SAAQ;oBAAQ,WAAU;8BAChC,cAAA,sSAAC;wBAAI,WAAU;kCACZ,KAAK,aAAa,EAAE,WAAW,OAAO,MAAM;;;;;;;;;;;;;;;;0BAInD,sSAAC,8KAAmB;gBAAC,OAAM;;kCACzB,sSAAC,2KAAgB;wBAAC,QAAQ;kCACxB,cAAA,sSAAC;4BAAK,WAAU;sCAAW,KAAK,KAAK;;;;;;;;;;;kCAEvC,sSAAC,2KAAgB;wBAAC,SAAS,IAAM,OAAO,IAAI,CAAC;kCAAuB;;;;;;kCACpE,sSAAC,2KAAgB;wBAAC,SAAS,IAAM,OAAO,IAAI,CAAC;kCAAwB;;;;;;kCACrE,sSAAC,2KAAgB;wBAAC,SAAS;wBAAc,WAAU;kCAAe;;;;;;;;;;;;;;;;;;AAM1E;GA9BgB;;QACC,2PAAS;;;KADV"}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sSAAC;QACC,aAAU;QACV,WAAW,IAAA,oIAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/topic-view.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport Link from \"next/link\"\r\nimport { useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\ninterface TopicViewProps {\r\n  pathway: {\r\n    id: number\r\n    title: string\r\n    description: string\r\n    order_number: number\r\n    type: string\r\n    content: any\r\n  }\r\n}\r\n\r\nfunction getVideoIdByPathwayId(pathwayId: number): string {\r\n  const videoMapping: { [key: number]: string } = {\r\n    1: '7rodnBMRdCw', // Pathway (Topik 1) - Ikatan Kimia\r\n    4: '5x_2ctPpArM', // Pathway (Topik 2) - Video Topik 2\r\n  }\r\n  return videoMapping[pathwayId] || 'dQw4w9WgXcQ' \r\n}\r\n\r\nexport default function TopicView({ pathway }: TopicViewProps) {\r\n  const sections = pathway.content?.sections || []\r\n  const [isCompleting, setIsCompleting] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleComplete = async () => {\r\n    setIsCompleting(true)\r\n    \r\n    try {\r\n      console.log('[Client] Completing pathway:', pathway.id)\r\n\r\n      const response = await fetch('/api/progress', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          pathwayId: pathway.id,\r\n          status: 'completed',\r\n        }),\r\n      })\r\n\r\n      console.log('[Client] Response status:', response.status)\r\n\r\n      const data = await response.json()\r\n      console.log('[Client] Response data:', data)\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to update progress')\r\n      }\r\n\r\n      console.log('[Client] Success!')\r\n\r\n      if (data.nextPathwayId) {\r\n        console.log('[Client] Navigating to next pathway:', data.nextPathwayId)\r\n        router.push(`/pathway/${data.nextPathwayId}`)\r\n        router.refresh() \r\n      } else {\r\n\r\n        console.log('[Client] No next pathway, going to dashboard')\r\n        router.push('/dashboard')\r\n        router.refresh() \r\n      }\r\n    } catch (error) {\r\n      console.error('[Client] Error:', error)\r\n      alert(`Gagal menyelesaikan pembelajaran: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n    } finally {\r\n      setIsCompleting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <article className=\"space-y-6\">\r\n      <header>\r\n        <Card className=\"p-8 bg-gradient-to-br from-blue-50 to-indigo-50 border-indigo-200\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{pathway.title}</h2>\r\n          <p className=\"text-lg text-gray-700\">{pathway.description}</p>\r\n        </Card>\r\n      </header>\r\n\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Video Pembelajaran</h3>\r\n        <div className=\"bg-gray-100 rounded-lg overflow-hidden\">\r\n          <div className=\"relative aspect-video\">\r\n            <iframe\r\n              className=\"absolute inset-0 w-full h-full\"\r\n              src={`https://www.youtube.com/embed/${getVideoIdByPathwayId(pathway.id)}`}\r\n              title=\"Video Pembelajaran\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {sections.map((section: any, index: number) => (\r\n        <section key={index}>\r\n          <Card className=\"p-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">{section.title}</h3>\r\n            \r\n            <div className=\"prose prose-sm max-w-none\">\r\n              {section.content.split(\"\\n\").map((line: string, i: number) => (\r\n                <p key={i} className=\"text-gray-700 mb-2 whitespace-pre-wrap\">\r\n                  {line}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        </section>\r\n      ))}\r\n\r\n      {pathway.id === 1 && (\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">Perbandingan Ikatan Kimia</h3>\r\n          <div className=\"bg-gray-50 rounded-lg overflow-hidden\">\r\n            <img\r\n              src=\"/images/ikatan-kimia.jpg\"\r\n              alt=\"Ilustrasi Ikatan Kimia\"\r\n              className=\"w-full h-auto object-contain\"\r\n            />\r\n          </div>\r\n          <p className=\"text-sm text-gray-600 mt-2 text-center\">\r\n            Tabel Perbandingan Ikatan Kimia\r\n          </p>\r\n        </Card>\r\n      )}\r\n\r\n      <nav className=\"flex gap-4 pt-6\">\r\n        <Link href=\"/dashboard\" className=\"flex-1\">\r\n          <Button variant=\"outline\" className=\"w-full bg-transparent\">\r\n            Kembali\r\n          </Button>\r\n        </Link>\r\n        <Button \r\n          className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\"\r\n          onClick={handleComplete}\r\n          disabled={isCompleting}\r\n        >\r\n          {isCompleting ? 'Menyimpan...' : 'Selesai'}\r\n        </Button>\r\n      </nav>\r\n    </article>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/quiz-view.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport type { User } from \"@supabase/supabase-js\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\n\r\ninterface QuizViewProps {\r\n  pathway: {\r\n    id: number\r\n    title: string\r\n    description: string\r\n    order_number: number\r\n    type: string\r\n    content: any\r\n  }\r\n  user: User\r\n}\r\n\r\nexport default function QuizView({ pathway, user }: QuizViewProps) {\r\n  const [currentQuestion, setCurrentQuestion] = useState(0)\r\n  const [answers, setAnswers] = useState<number[]>([])\r\n  const [showResults, setShowResults] = useState(false)\r\n  const [score, setScore] = useState(0)\r\n  const [isCompleting, setIsCompleting] = useState(false)\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n\r\n  const questions = pathway.content?.questions || []\r\n\r\n  const quizExplanations: { [key: string]: { [key: number]: string } } = {\r\n    \"Topik 1: Jenis dan Mekanisme Ikatan Kimia\": {\r\n      0: \"Ikatan ionik terbentuk melalui transfer elektron dari atom logam ke atom nonlogam. Atom yang kehilangan elektron menjadi kation (bermuatan positif) dan atom yang menerima elektron menjadi anion (bermuatan negatif). Gaya tarik elektrostatik antara kedua ion ini membentuk ikatan ionik yang kuat.\",\r\n      1: \"Ikatan kovalen terbentuk ketika dua atom berbagi pasangan elektron. Elektron dari kedua atom saling tumpang tindih membentuk orbital molekul. Ikatan kovalen dapat berupa tunggal (satu pasang elektron), ganda (dua pasang elektron), atau rangkap tiga (tiga pasang elektron).\",\r\n      2: \"Ikatan logam terbentuk ketika elektron valensi dari atom-atom logam bergerak bebas membentuk 'laut elektron' yang mengelilingi kation-kation logam. Elektron-elektron ini tidak terikat pada atom tertentu dan dapat bergerak dengan mudah, yang menjelaskan mengapa logam memiliki konduktivitas listrik yang baik.\",\r\n    },\r\n    \"Topik 2: Struktur, Sifat, dan Penamaan Senyawa\": {\r\n      0: \"Senyawa ionik memiliki struktur kristal yang teratur dengan ion-ion tersusun dalam pola 3D yang berulang. Struktur ini menghasilkan sifat-sifat khas seperti titik leleh tinggi, kelarutan dalam pelarut polar seperti air, dan kemampuan menghantarkan listrik dalam keadaan cair atau larutan.\",\r\n      1: \"Senyawa kovalen dapat berupa molekul diskrit atau jaringan kovalen. Senyawa kovalen molekuler memiliki titik leleh rendah karena gaya antar molekul lemah, sedangkan jaringan kovalen memiliki titik leleh sangat tinggi karena seluruh struktur terikat oleh ikatan kovalen yang kuat.\",\r\n      2: \"Penamaan senyawa ionik mengikuti aturan: nama kation diikuti nama anion dengan akhiran -ida. Contoh: NaCl (natrium klorida), CaCOâ‚ƒ (kalsium karbonat). Untuk kation dengan muatan variabel, gunakan angka Romawi dalam tanda kurung untuk menunjukkan muatannya.\",\r\n    },\r\n  }\r\n\r\n  const handleAnswer = (optionIndex: number) => {\r\n    const newAnswers = [...answers]\r\n    newAnswers[currentQuestion] = optionIndex\r\n    setAnswers(newAnswers)\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (currentQuestion < questions.length - 1) {\r\n      setCurrentQuestion(currentQuestion + 1)\r\n    }\r\n  }\r\n\r\n  const handlePrevious = () => {\r\n    if (currentQuestion > 0) {\r\n      setCurrentQuestion(currentQuestion - 1)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    let correctCount = 0\r\n\r\n    const answerPromises = questions.map(async (q: any, index: number) => {\r\n      const isCorrect = answers[index] === q.correct_answer\r\n      if (isCorrect) correctCount++\r\n\r\n      const explanations = quizExplanations[pathway.title] || {}\r\n      const baseExplanation = explanations[q.correct_answer] || q.explanation || \"Silakan pelajari kembali materi ini.\"\r\n\r\n      const explanation = isCorrect\r\n        ? `âœ“ Jawaban Anda benar!\\n\\n${baseExplanation}`\r\n        : `âœ— Jawaban Anda salah.\\n\\nJawaban yang benar adalah: ${q.options[q.correct_answer]}\\n\\n${baseExplanation}`\r\n\r\n      await supabase.from(\"quiz_answers\").insert({\r\n        user_id: user.id,\r\n        pathway_id: pathway.id,\r\n        question_id: q.id,\r\n        user_answer: answers[index] ?? -1,\r\n        correct_answer: q.correct_answer,\r\n        is_correct: isCorrect,\r\n        explanation: explanation,\r\n      })\r\n    })\r\n\r\n    await Promise.all(answerPromises)\r\n\r\n    const finalScore = Math.round((correctCount / questions.length) * 100)\r\n    setScore(finalScore)\r\n    setShowResults(true)\r\n\r\n    await supabase\r\n      .from(\"user_pathway_progress\")\r\n      .update({ score: finalScore, status: \"completed\" })\r\n      .eq(\"pathway_id\", pathway.id)\r\n      .eq(\"user_id\", user.id)\r\n  }\r\n\r\n  const handleComplete = async () => {\r\n    setIsCompleting(true)\r\n    try {\r\n      console.log('[Client] Completing pathway:', pathway.id)\r\n      \r\n      const response = await fetch('/api/progress', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          pathwayId: pathway.id,\r\n          status: 'completed',\r\n          score: score\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n      console.log('[Client] API Response:', data)\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Gagal menyelesaikan pembelajaran')\r\n      }\r\n\r\n      if (data.nextPathwayId) {\r\n        console.log('[Client] Going to next pathway:', data.nextPathwayId)\r\n        router.push(`/pathway/${data.nextPathwayId}`)\r\n        router.refresh() \r\n      } else {\r\n        console.log('[Client] No next pathway, going to dashboard')\r\n        router.push('/dashboard')\r\n        router.refresh() \r\n      }\r\n    } catch (error) {\r\n      console.error('[Client] Error:', error)\r\n      alert(`Gagal menyelesaikan pembelajaran: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n    } finally {\r\n      setIsCompleting(false)\r\n    }\r\n  }\r\n\r\n  if (showResults) {\r\n    return (\r\n      <article className=\"space-y-6\">\r\n        <header>\r\n          <Card className=\"p-8 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Hasil Kuis</h2>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-6xl font-bold text-green-600 mb-4\">{score}%</div>\r\n              <p className=\"text-lg text-gray-700\">\r\n                Anda menjawab {answers.filter((a, i) => a === questions[i]?.correct_answer).length} dari{\" \"}\r\n                {questions.length} pertanyaan dengan benar\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </header>\r\n\r\n        <nav className=\"flex gap-4 pt-6\">\r\n          <Link href=\"/dashboard\" className=\"flex-1\">\r\n            <Button variant=\"outline\" className=\"w-full bg-transparent\">\r\n              Kembali\r\n            </Button>\r\n          </Link>\r\n          <Button \r\n            className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\"\r\n            onClick={handleComplete}\r\n            disabled={isCompleting}\r\n          >\r\n            {isCompleting ? 'Menyimpan...' : 'Selesai'}\r\n          </Button>\r\n        </nav>\r\n      </article>\r\n    )\r\n  }\r\n\r\n  const question = questions[currentQuestion]\r\n\r\n  return (\r\n    <article className=\"space-y-6\">\r\n      <header>\r\n        <Card className=\"p-8 bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{pathway.title}</h2>\r\n          <div className=\"flex justify-between items-center\">\r\n            <p className=\"text-lg text-gray-700\">\r\n              Pertanyaan {currentQuestion + 1} dari {questions.length}\r\n            </p>\r\n            <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n              <div\r\n                className=\"bg-yellow-500 h-2 rounded-full transition-all\"\r\n                style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </header>\r\n\r\n      <section>\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">{question?.question}</h3>\r\n\r\n          <div className=\"space-y-3 mb-6\">\r\n            {question?.options?.map((option: string, index: number) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => handleAnswer(index)}\r\n                className={`w-full p-4 text-left rounded-lg border-2 transition-all ${\r\n                  answers[currentQuestion] === index\r\n                    ? \"border-indigo-600 bg-indigo-50\"\r\n                    : \"border-gray-200 hover:border-gray-300\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div\r\n                    className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\r\n                      answers[currentQuestion] === index ? \"border-indigo-600 bg-indigo-600\" : \"border-gray-300\"\r\n                    }`}\r\n                  >\r\n                    {answers[currentQuestion] === index && <span className=\"text-white text-sm\">âœ“</span>}\r\n                  </div>\r\n                  <span className=\"text-gray-900\">{option}</span>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <nav className=\"flex gap-4\">\r\n            <Button\r\n              onClick={handlePrevious}\r\n              disabled={currentQuestion === 0}\r\n              variant=\"outline\"\r\n              className=\"flex-1 bg-transparent\"\r\n            >\r\n              Sebelumnya\r\n            </Button>\r\n            {currentQuestion < questions.length - 1 ? (\r\n              <Button onClick={handleNext} className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\">\r\n                Selanjutnya\r\n              </Button>\r\n            ) : (\r\n              <Button onClick={handleSubmit} className=\"flex-1 bg-green-600 hover:bg-green-700\">\r\n                Selesai & Lihat Hasil\r\n              </Button>\r\n            )}\r\n          </nav>\r\n        </Card>\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/final-test-view.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport type { User } from \"@supabase/supabase-js\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\n\r\ninterface FinalTestViewProps {\r\n  pathway: {\r\n    id: number\r\n    title: string\r\n    description: string\r\n    order_number: number\r\n    type: string\r\n    content: any\r\n  }\r\n  user: User\r\n}\r\n\r\nexport default function FinalTestView({ pathway, user }: FinalTestViewProps) {\r\n  const [currentQuestion, setCurrentQuestion] = useState(0)\r\n  const [answers, setAnswers] = useState<number[]>([])\r\n  const [showResults, setShowResults] = useState(false)\r\n  const [score, setScore] = useState(0)\r\n  const [isCompleting, setIsCompleting] = useState(false)\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n\r\n  // Get questions from pathway.content (same as quiz system)\r\n  const questions = pathway.content?.questions || []\r\n\r\n  const handleAnswer = (optionIndex: number) => {\r\n    const newAnswers = [...answers]\r\n    newAnswers[currentQuestion] = optionIndex\r\n    setAnswers(newAnswers)\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (currentQuestion < questions.length - 1) {\r\n      setCurrentQuestion(currentQuestion + 1)\r\n    }\r\n  }\r\n\r\n  const handlePrevious = () => {\r\n    if (currentQuestion > 0) {\r\n      setCurrentQuestion(currentQuestion - 1)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    let correctCount = 0\r\n    questions.forEach((q: any, index: number) => {\r\n      if (answers[index] === q.correct_answer) {\r\n        correctCount++\r\n      }\r\n    })\r\n\r\n    const finalScore = Math.round((correctCount / questions.length) * 100)\r\n    setScore(finalScore)\r\n    setShowResults(true)\r\n\r\n    for (let i = 0; i < questions.length; i++) {\r\n      const question = questions[i]\r\n      const userAnswer = answers[i]\r\n      const isCorrect = userAnswer === question.correct_answer\r\n      \r\n      // Create explanation with correct/wrong feedback (use question.explanation from database)\r\n      const baseExplanation = question.explanation || \"Silakan pelajari kembali materi terkait.\"\r\n      const explanation = isCorrect\r\n        ? `âœ“ Jawaban Anda benar!\\n\\n${baseExplanation}`\r\n        : `âœ— Jawaban Anda salah.\\n\\nJawaban yang benar adalah: ${question.options[question.correct_answer]}\\n\\n${baseExplanation}`\r\n\r\n      await supabase\r\n        .from(\"quiz_answers\")\r\n        .delete()\r\n        .eq(\"pathway_id\", pathway.id)\r\n        .eq(\"user_id\", user.id)\r\n        .eq(\"question_id\", question.id)\r\n\r\n      await supabase\r\n        .from(\"quiz_answers\")\r\n        .insert({\r\n          pathway_id: pathway.id,\r\n          user_id: user.id,\r\n          question_id: question.id,\r\n          user_answer: userAnswer ?? -1,\r\n          correct_answer: question.correct_answer,\r\n          is_correct: isCorrect,\r\n          explanation: explanation\r\n        })\r\n    }\r\n\r\n    await supabase\r\n      .from(\"user_pathway_progress\")\r\n      .update({ score: finalScore, status: \"completed\" })\r\n      .eq(\"pathway_id\", pathway.id)\r\n      .eq(\"user_id\", user.id)\r\n  }\r\n\r\n  const handleComplete = async () => {\r\n    setIsCompleting(true)\r\n    try {\r\n      console.log('[Client] Completing pathway:', pathway.id)\r\n      \r\n      const response = await fetch('/api/progress', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          pathwayId: pathway.id,\r\n          status: 'completed',\r\n          score: score\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n      console.log('[Client] API Response:', data)\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Gagal menyelesaikan pembelajaran')\r\n      }\r\n\r\n      if (data.nextPathwayId) {\r\n        console.log('[Client] Going to next pathway:', data.nextPathwayId)\r\n        router.push(`/pathway/${data.nextPathwayId}`)\r\n        router.refresh() \r\n      } else {\r\n        console.log('[Client] No next pathway, going to dashboard')\r\n        router.push('/dashboard')\r\n        router.refresh() \r\n      }\r\n    } catch (error) {\r\n      console.error('[Client] Error:', error)\r\n      alert(`Gagal menyelesaikan pembelajaran: ${error instanceof Error ? error.message : 'Unknown error'}`)\r\n    } finally {\r\n      setIsCompleting(false)\r\n    }\r\n  }\r\n\r\n  if (showResults) {\r\n    const correctCount = answers.filter((a, i) => a === questions[i]?.correct_answer).length\r\n\r\n    return (\r\n      <article className=\"space-y-6\">\r\n        <header>\r\n          <Card className=\"p-8 bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Hasil Tes Akhir</h2>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-6xl font-bold text-purple-600 mb-4\">{score}%</div>\r\n              <p className=\"text-lg text-gray-700 mb-2\">\r\n                Anda menjawab {correctCount} dari {questions.length} pertanyaan dengan benar\r\n              </p>\r\n              <p className=\"text-gray-600\">\r\n                {score >= 80\r\n                  ? \"Selamat! Anda telah menguasai materi Chemical Bonding dengan baik.\"\r\n                  : score >= 60\r\n                    ? \"Bagus! Anda sudah memahami sebagian besar materi. Pelajari kembali bagian yang kurang.\"\r\n                    : \"Anda perlu mempelajari kembali materi Chemical Bonding.\"}\r\n              </p>\r\n              <p className=\"text-sm text-indigo-600 mt-4\">\r\n                ðŸ’¡ Lihat pembahasan lengkap di halaman &quot;Hasil Pembelajaran&quot;\r\n              </p>\r\n            </div>\r\n          </Card>\r\n        </header>\r\n\r\n        <nav>\r\n          <Button \r\n            className=\"w-full bg-indigo-600 hover:bg-indigo-700\"\r\n            onClick={handleComplete}\r\n            disabled={isCompleting}\r\n          >\r\n            {isCompleting ? 'Menyimpan...' : 'Kembali ke Dashboard'}\r\n          </Button>\r\n        </nav>\r\n      </article>\r\n    )\r\n  }\r\n\r\n  const question = questions[currentQuestion]\r\n\r\n  return (\r\n    <article className=\"space-y-6\">\r\n      <header>\r\n        <Card className=\"p-8 bg-gradient-to-br from-red-50 to-orange-50 border-red-200\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{pathway.title}</h2>\r\n          <div className=\"flex justify-between items-center\">\r\n            <p className=\"text-lg text-gray-700\">\r\n              Pertanyaan {currentQuestion + 1} dari {questions.length}\r\n            </p>\r\n            <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n              <div\r\n                className=\"bg-red-500 h-2 rounded-full transition-all\"\r\n                style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </header>\r\n\r\n      <section>\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">{question?.question}</h3>\r\n\r\n          <div className=\"space-y-3 mb-6\">\r\n            {question?.options?.map((option: string, index: number) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => handleAnswer(index)}\r\n                className={`w-full p-4 text-left rounded-lg border-2 transition-all ${\r\n                  answers[currentQuestion] === index\r\n                    ? \"border-purple-600 bg-purple-50\"\r\n                    : \"border-gray-200 hover:border-gray-300\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div\r\n                    className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\r\n                      answers[currentQuestion] === index ? \"border-purple-600 bg-purple-600\" : \"border-gray-300\"\r\n                    }`}\r\n                  >\r\n                    {answers[currentQuestion] === index && <span className=\"text-white text-sm\">âœ“</span>}\r\n                  </div>\r\n                  <span className=\"text-gray-900\">{option}</span>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <nav className=\"flex gap-4\">\r\n          <Button\r\n            onClick={handlePrevious}\r\n            disabled={currentQuestion === 0}\r\n            variant=\"outline\"\r\n            className=\"flex-1 bg-transparent\"\r\n          >\r\n            Sebelumnya\r\n          </Button>\r\n          {currentQuestion < questions.length - 1 ? (\r\n            <Button onClick={handleNext} className=\"flex-1 bg-purple-600 hover:bg-purple-700\">\r\n              Selanjutnya\r\n            </Button>\r\n          ) : (\r\n            <Button onClick={handleSubmit} className=\"flex-1 bg-green-600 hover:bg-green-700\">\r\n              Selesai & Lihat Hasil\r\n            </Button>\r\n          )}\r\n          </nav>\r\n        </Card>\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1685, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/simulasi-senyawa.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport type { User } from \"@supabase/supabase-js\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\ninterface SimulasiSenyawaProps {\r\n  pathway: {\r\n    id: number;\r\n    title: string;\r\n    description: string;\r\n    order_number: number;\r\n    type: string;\r\n    content: any;\r\n  };\r\n  user: User;\r\n}\r\n\r\nexport default function SimulasiSenyawa({ pathway, user }: SimulasiSenyawaProps) {\r\n  const [leftElement, setLeftElement] = useState(\"Hydrogen\");\r\n  const [rightElement, setRightElement] = useState(\"Oxygen\");\r\n  const [distance, setDistance] = useState(260);\r\n  const [interaction, setInteraction] = useState(\"Attractive\");\r\n  const [isCompleting, setIsCompleting] = useState(false);\r\n  const router = useRouter();\r\n  const supabase = createClient();\r\n\r\n  const elementColors: Record<string, string> = {\r\n    Hydrogen: \"#a0d8ef\",\r\n    Oxygen: \"#ff7f7f\",\r\n    Carbon: \"#a8a8a8\",\r\n  };\r\n\r\n  const elementSizes: Record<string, number> = {\r\n    Hydrogen: 100,\r\n    Oxygen: 140,\r\n    Carbon: 180,\r\n  };\r\n\r\n  const radii = useMemo(() => {\r\n    const rL = elementSizes[leftElement] / 2;\r\n    const rR = elementSizes[rightElement] / 2;\r\n    return { rL, rR };\r\n  }, [leftElement, rightElement]);\r\n\r\n  const thresholds = useMemo(() => {\r\n    const buffer = 10;\r\n    const repulsiveD = radii.rL + radii.rR + buffer; \r\n    const noInteractionD = repulsiveD * 2.6;\r\n    return { repulsiveD, noInteractionD };\r\n  }, [radii]);\r\n\r\n  const classify = (d: number) => {\r\n    if (d < thresholds.repulsiveD) return \"Repulsive\";\r\n    if (d > thresholds.noInteractionD) return \"No Interaction\";\r\n    return \"Attractive\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    const minD = thresholds.repulsiveD * 0.9;\r\n    const maxD = thresholds.noInteractionD * 1.1;\r\n    const clamped = Math.min(maxD, Math.max(minD, distance));\r\n    setDistance(clamped);\r\n    setInteraction(classify(clamped));\r\n  }, [leftElement, rightElement, thresholds.repulsiveD, thresholds.noInteractionD]);\r\n\r\n  const handleMove = (delta: number) => {\r\n    let newDist = distance + delta;\r\n    const minD = thresholds.repulsiveD * 0.8;\r\n    const maxD = thresholds.noInteractionD * 1.3;\r\n    newDist = Math.min(maxD, Math.max(minD, newDist));\r\n    setDistance(newDist);\r\n    setInteraction(classify(newDist));\r\n  };\r\n\r\n  const handleComplete = async () => {\r\n    setIsCompleting(true);\r\n    try {\r\n      const response = await fetch(\"/api/progress\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          pathwayId: pathway.id,\r\n          status: \"completed\",\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) throw new Error(data.error || \"Gagal menyelesaikan pembelajaran\");\r\n      if (data.nextPathwayId) {\r\n        router.push(`/pathway/${data.nextPathwayId}`);\r\n        router.refresh();\r\n      } else {\r\n        router.push(\"/dashboard\");\r\n        router.refresh();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"[Client] Error:\", error);\r\n      alert(\r\n        `Gagal menyelesaikan pembelajaran: ${\r\n          error instanceof Error ? error.message : \"Unknown error\"\r\n        }`\r\n      );\r\n    } finally {\r\n      setIsCompleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <article className=\"space-y-6 mt-6\">\r\n      <div className=\"flex gap-6 items-stretch min-h-[400px]\">\r\n        <section className=\"bg-white rounded-lg shadow-xl p-4 w-[120px] h-[350px] flex flex-col items-center\">\r\n          <h3 className=\"text-xs font-semibold text-gray-800 mb-3 text-center\">\r\n            Potential Energy\r\n          </h3>\r\n          <div className=\"flex-1 w-12 bg-gradient-to-t from-green-500 to-green-200 rounded-lg relative\">\r\n            <div\r\n              className=\"absolute w-full bg-red-500 transition-all duration-300\"\r\n              style={{\r\n                height: `${Math.max(\r\n                  0,\r\n                  Math.min(\r\n                    100,\r\n                    ((thresholds.noInteractionD - distance) /\r\n                      (thresholds.noInteractionD - thresholds.repulsiveD)) *\r\n                      100\r\n                  )\r\n                )}%`,\r\n                bottom: 0,\r\n                borderRadius: \"0 0 0.5rem 0.5rem\",\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <p className=\"text-xs text-gray-600 mt-2 text-center\">Energy Level</p>\r\n        </section>\r\n\r\n        <section className=\"relative bg-black rounded-lg shadow-xl w-[550px] h-[380px] overflow-hidden flex flex-col items-center justify-center\">\r\n          <motion.div\r\n            animate={{ x: -distance / 2 }}\r\n            transition={{ type: \"spring\", stiffness: 100, damping: 10 }}\r\n            className=\"absolute flex items-center justify-center rounded-full border border-black shadow-[0_0_25px_rgba(255,255,255,0.3)]\"\r\n            style={{\r\n              width: elementSizes[leftElement],\r\n              height: elementSizes[leftElement],\r\n              background: elementColors[leftElement],\r\n            }}\r\n          >\r\n            <span className=\"text-black text-4xl font-bold\">\r\n              {leftElement[0]}\r\n            </span>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            animate={{ x: distance / 2 }}\r\n            transition={{ type: \"spring\", stiffness: 100, damping: 10 }}\r\n            className=\"absolute flex items-center justify-center rounded-full border border-black shadow-[0_0_25px_rgba(255,255,255,0.3)]\"\r\n            style={{\r\n              width: elementSizes[rightElement],\r\n              height: elementSizes[rightElement],\r\n              background: elementColors[rightElement],\r\n            }}\r\n          >\r\n            <span className=\"text-black text-4xl font-bold\">\r\n              {rightElement[0]}\r\n            </span>\r\n          </motion.div>\r\n\r\n          <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-center\">\r\n            <p className=\"text-yellow-300 text-sm mb-1\">Overall interaction:</p>\r\n            <p\r\n              className={`font-bold text-2xl ${\r\n                interaction === \"Attractive\"\r\n                  ? \"text-green-400\"\r\n                  : interaction === \"Repulsive\"\r\n                  ? \"text-orange-500\"\r\n                  : \"text-gray-400\"\r\n              }`}\r\n            >\r\n              {interaction}\r\n            </p>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"bg-white rounded-lg shadow-xl p-6 w-[260px] h-[300px] flex flex-col gap-4 mt-7\">\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">\r\n              Left Element\r\n            </h3>\r\n            <select\r\n              value={leftElement}\r\n              onChange={(e) => setLeftElement(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\r\n            >\r\n              <option>Hydrogen</option>\r\n              <option>Oxygen</option>\r\n              <option>Carbon</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">\r\n              Right Element\r\n            </h3>\r\n            <select\r\n              value={rightElement}\r\n              onChange={(e) => setRightElement(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\r\n            >\r\n              <option>Hydrogen</option>\r\n              <option>Oxygen</option>\r\n              <option>Carbon</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"text-sm font-semibold text-gray-800 mb-2\">\r\n              Distance\r\n            </h3>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => handleMove(-20)}\r\n                className=\"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded text-sm font-medium\"\r\n              >\r\n                Move Closer\r\n              </button>\r\n              <button\r\n                onClick={() => handleMove(20)}\r\n                className=\"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded text-sm font-medium\"\r\n              >\r\n                Move Apart\r\n              </button>\r\n            </div>\r\n            <p className=\"text-xs text-gray-600 mt-2 text-center\">\r\n              {Math.round(distance)} px\r\n            </p>\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      <nav className=\"flex gap-4 pt-6\">\r\n        <Link href=\"/dashboard\" className=\"flex-1\">\r\n          <Button variant=\"outline\" className=\"w-full bg-transparent\">\r\n            Kembali\r\n          </Button>\r\n        </Link>\r\n        <Button\r\n          className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\"\r\n          onClick={handleComplete}\r\n          disabled={isCompleting}\r\n        >\r\n          {isCompleting ? \"Menyimpan...\" : \"Selesai\"}\r\n        </Button>\r\n      </nav>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/simulasi-pembentukan-ikatan.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport type { User } from \"@supabase/supabase-js\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\n\r\ninterface SimulasiPembentukanIkatanProps {\r\n  pathway: {\r\n    id: number;\r\n    title: string;\r\n    description: string;\r\n    order_number: number;\r\n    type: string;\r\n    content: any;\r\n  };\r\n  user: User;\r\n}\r\n\r\nexport default function SimulasiPembentukanIkatan({\r\n  pathway,\r\n  user,\r\n}: SimulasiPembentukanIkatanProps) {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [status, setStatus] = useState(\"Overall interaction: â€¦\");\r\n  const [isCompleting, setIsCompleting] = useState(false);\r\n  const router = useRouter();\r\n  const supabase = createClient();\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n    const ctx = canvas.getContext(\"2d\")!;\r\n    let W = 1280,\r\n      H = 720;\r\n\r\n    const fit = () => {\r\n      const dpr = Math.min(2, window.devicePixelRatio || 1);\r\n      const parentWidth = canvas.parentElement!.clientWidth;\r\n      const parentHeight = canvas.parentElement!.clientHeight - 2;\r\n      W = parentWidth;\r\n      H = parentHeight;\r\n      canvas.width = W * dpr;\r\n      canvas.height = H * dpr;\r\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\r\n    };\r\n    window.addEventListener(\"resize\", fit, { passive: true });\r\n    fit();\r\n\r\n    const atomR = 16;\r\n    const EPSILON = 1.0;\r\n    const COULOMB_K = 40000;\r\n    const bias = 140;\r\n    const model = \"LJ\";\r\n\r\n    const midY = H * 0.5;\r\n    const a1 = { x: W * 0.4, y: midY, r: atomR, dragging: false };\r\n    const a2 = { x: W * 0.6, y: midY, r: atomR, dragging: false };\r\n\r\n    function forceLJ(r: number) {\r\n      const sOverR = bias / r;\r\n      const s6 = sOverR ** 6;\r\n      const s12 = s6 * s6;\r\n      return 24 * EPSILON * (2 * s12 / r - s6 / r);\r\n    }\r\n\r\n    function forceCoulomb(r: number) {\r\n      const rep = COULOMB_K / (r * r);\r\n      const att = (COULOMB_K * 0.65) / (r * r * r);\r\n      return rep - att;\r\n    }\r\n\r\n    function computeForce() {\r\n      const dx = a2.x - a1.x,\r\n        dy = a2.y - a1.y;\r\n      const r = Math.hypot(dx, dy);\r\n      const dir = { x: dx / r, y: dy / r };\r\n      const Fmag = model === \"LJ\" ? forceLJ(r) : forceCoulomb(r);\r\n      return { F1: { x: -Fmag * dir.x, y: -Fmag * dir.y }, F2: { x: Fmag * dir.x, y: -Fmag * dir.y }, mag: Fmag, r };\r\n    }\r\n\r\n    const pointer = { down: false, target: null as any, ox: 0 };\r\n\r\n    const hit = (x: number, y: number, d: any) =>\r\n      (x - d.x) ** 2 + (y - d.y) ** 2 <= (d.r + 8) ** 2;\r\n\r\n    canvas.addEventListener(\"pointerdown\", (e) => {\r\n      const rect = canvas.getBoundingClientRect();\r\n      const x = e.clientX - rect.left;\r\n      const y = e.clientY - rect.top;\r\n      if (hit(x, y, a1)) {\r\n        pointer.down = true;\r\n        pointer.target = a1;\r\n        pointer.ox = x - a1.x;\r\n      } else if (hit(x, y, a2)) {\r\n        pointer.down = true;\r\n        pointer.target = a2;\r\n        pointer.ox = x - a2.x;\r\n      }\r\n    });\r\n\r\n    canvas.addEventListener(\"pointermove\", (e) => {\r\n      if (!pointer.down || !pointer.target) return;\r\n      const rect = canvas.getBoundingClientRect();\r\n      const x = e.clientX - rect.left;\r\n      pointer.target.x = Math.max(30, Math.min(W - 30, x - pointer.ox));\r\n      pointer.target.y = midY; \r\n    });\r\n\r\n    const stopDrag = () => {\r\n      pointer.down = false;\r\n      pointer.target = null;\r\n    };\r\n    canvas.addEventListener(\"pointerup\", stopDrag);\r\n    canvas.addEventListener(\"pointerleave\", stopDrag);\r\n\r\n    const drawNucleus = ({ x, y, r }: any, color = \"#1845ff\") => {\r\n      ctx.fillStyle = color;\r\n      ctx.beginPath();\r\n      ctx.arc(x, y, r, 0, Math.PI * 2);\r\n      ctx.fill();\r\n\r\n      const g = ctx.createRadialGradient(x - 3, y - 3, 1, x, y, r + 10);\r\n      g.addColorStop(0, \"rgba(255,255,255,.6)\");\r\n      g.addColorStop(1, color);\r\n      ctx.fillStyle = g;\r\n      ctx.beginPath();\r\n      ctx.arc(x, y, r, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    };\r\n\r\n    const drawArrow = (x: number, y: number, vx: number, vy: number) => {\r\n      const L = Math.min(80, Math.max(18, Math.hypot(vx, vy) * 160));\r\n      const a = Math.atan2(vy, vx);\r\n      ctx.strokeStyle = \"#ffea00\";\r\n      ctx.fillStyle = \"#ffea00\";\r\n      ctx.lineWidth = 4;\r\n      ctx.beginPath();\r\n      ctx.moveTo(x, y);\r\n      ctx.lineTo(x + Math.cos(a) * L, y + Math.sin(a) * L);\r\n      ctx.stroke();\r\n      const hx = x + Math.cos(a) * L,\r\n        hy = y + Math.sin(a) * L;\r\n      ctx.beginPath();\r\n      ctx.moveTo(hx, hy);\r\n      ctx.lineTo(hx - 10 * Math.cos(a - Math.PI / 6), hy - 10 * Math.sin(a - Math.PI / 6));\r\n      ctx.lineTo(hx - 10 * Math.cos(a + Math.PI / 6), hy - 10 * Math.sin(a + Math.PI / 6));\r\n      ctx.closePath();\r\n      ctx.fill();\r\n    };\r\n\r\n    const drawElectronCloud = () => {\r\n      const dx = a2.x - a1.x;\r\n      const dist = Math.abs(dx);\r\n      const overlapFactor = Math.max(0, 1 - dist / 300); \r\n\r\n      ctx.globalCompositeOperation = \"lighter\";\r\n\r\n      const drawCloud = (x: number, y: number, intensity: number) => {\r\n        const radius = 120 + intensity * 80;\r\n        const grd = ctx.createRadialGradient(x, y, radius * 0.2, x, y, radius);\r\n        grd.addColorStop(0, `rgba(255,0,0,${0.5 + 0.4 * intensity})`);\r\n        grd.addColorStop(1, \"rgba(255,0,0,0)\");\r\n        ctx.fillStyle = grd;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, radius, 0, Math.PI * 2);\r\n        ctx.fill();\r\n      };\r\n\r\n      drawCloud(a1.x, a1.y, 1 - overlapFactor * 0.5);\r\n      drawCloud(a2.x, a2.y, 1 - overlapFactor * 0.5);\r\n\r\n      if (overlapFactor > 0.2) {\r\n        const midX = (a1.x + a2.x) / 2;\r\n        const midY = a1.y;\r\n        const radius = 160 * overlapFactor + 60;\r\n        const grd = ctx.createRadialGradient(midX, midY, 0, midX, midY, radius);\r\n        grd.addColorStop(0, `rgba(255,0,0,${0.4 + overlapFactor * 0.5})`);\r\n        grd.addColorStop(1, \"rgba(255,0,0,0)\");\r\n        ctx.fillStyle = grd;\r\n        ctx.beginPath();\r\n        ctx.arc(midX, midY, radius, 0, Math.PI * 2);\r\n        ctx.fill();\r\n      }\r\n\r\n      ctx.globalCompositeOperation = \"source-over\";\r\n    };\r\n\r\n    const frame = () => {\r\n      ctx.clearRect(0, 0, W, H);\r\n\r\n      const bg = ctx.createRadialGradient(W / 2, H / 2, 50, W / 2, H / 2, Math.max(W, H) * 0.7);\r\n      bg.addColorStop(0, \"rgba(0,0,0,1)\");\r\n      bg.addColorStop(1, \"rgba(0,0,0,.9)\");\r\n      ctx.fillStyle = bg;\r\n      ctx.fillRect(0, 0, W, H);\r\n\r\n      drawElectronCloud();\r\n\r\n      const F = computeForce();\r\n      drawNucleus(a1);\r\n      drawNucleus(a2);\r\n      drawArrow(a1.x, a1.y, F.F1.x, F.F1.y);\r\n      drawArrow(a2.x, a2.y, F.F2.x, F.F2.y);\r\n\r\n      const kind = Math.abs(F.mag) < 0.002 ? \"Neutral\" : F.mag > 0 ? \"Repulsive\" : \"Attractive\";\r\n      setStatus(`Overall interaction: ${kind}`);\r\n\r\n      requestAnimationFrame(frame);\r\n    };\r\n    frame();\r\n\r\n    return () => window.removeEventListener(\"resize\", fit);\r\n  }, []);\r\n\r\n  const handleComplete = async () => {\r\n    setIsCompleting(true);\r\n    try {\r\n      const response = await fetch(\"/api/progress\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ pathwayId: pathway.id, status: \"completed\" }),\r\n      });\r\n      const data = await response.json();\r\n      if (data.nextPathwayId) {\r\n        router.push(`/pathway/${data.nextPathwayId}`);\r\n      } else {\r\n        router.push(\"/dashboard\");\r\n      }\r\n    } finally {\r\n      setIsCompleting(false);\r\n    }\r\n  };\r\n\r\n  const interactionText = status.replace(\"Overall interaction:\", \"\").trim();\r\n\r\n  return (\r\n    <article className=\"space-y-6\">\r\n      <div\r\n        style={{\r\n          position: \"relative\",\r\n          height: \"70vh\",\r\n          background: \"#000\",\r\n          border: \"1px solid #333\",\r\n          borderRadius: \"0.5rem\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <header\r\n          style={{\r\n            background: \"#061a1a\",\r\n            borderBottom: \"2px solid #00e0c6\",\r\n            padding: \"0.6rem 1rem\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            gap: \"0.75rem\",\r\n          }}\r\n        >\r\n          <h1 style={{ fontSize: \"1rem\", margin: 0, color: \"#cfe\" }}>\r\n            Pembentukkan Ikatan Kimia\r\n          </h1>\r\n          <span style={{ opacity: 0.35 }}>â€¢</span>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            style={{\r\n              border: \"1px solid #1c9\",\r\n              background: \"#072\",\r\n              color: \"#dff\",\r\n              padding: \".35rem .65rem\",\r\n              borderRadius: \".6rem\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Reset\r\n          </button>\r\n        </header>\r\n\r\n        <canvas ref={canvasRef} style={{ width: \"100%\", height: \"100%\" }} />\r\n\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            bottom: \"60px\",\r\n            left: \"50%\",\r\n            transform: \"translateX(-50%)\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"1.8rem\",\r\n            color:\r\n              interactionText === \"Attractive\"\r\n                ? \"lightgreen\"\r\n                : interactionText === \"Repulsive\"\r\n                ? \"orange\"\r\n                : \"gray\",\r\n            textShadow: \"0 0 10px rgba(255,255,255,0.3)\",\r\n          }}\r\n        >\r\n          Overall interaction: {interactionText}\r\n        </div>\r\n      </div>\r\n\r\n      <nav className=\"flex gap-4 pt-6\">\r\n        <Link href=\"/dashboard\" className=\"flex-1\">\r\n          <Button variant=\"outline\" className=\"w-full bg-transparent\">\r\n            Kembali\r\n          </Button>\r\n        </Link>\r\n        <Button\r\n          className=\"flex-1 bg-indigo-600 hover:bg-indigo-700\"\r\n          onClick={handleComplete}\r\n          disabled={isCompleting}\r\n        >\r\n          {isCompleting ? \"Menyimpan...\" : \"Selesai\"}\r\n        </Button>\r\n      </nav>\r\n    </article>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2588, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Matthew/OneDrive%20-%20Institut%20Teknologi%20Bandung/seleksi%20basdat/18223096_Tugas-PAWM-Virtual-Lab/apps/web/components/pathway/pathway-content.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport type { User } from \"@supabase/supabase-js\"\r\nimport { createClient } from \"@/lib/supabase/client\"\r\nimport { UserMenu } from \"@/components/dashboard/user-menu\"\r\nimport Link from \"next/link\"\r\nimport TopicView from \"./topic-view\"\r\nimport QuizView from \"./quiz-view\"\r\nimport FinalTestView from \"./final-test-view\"\r\nimport SimulasiSenyawa from \"./simulasi-senyawa\"\r\nimport SimulasiPembentukanIkatan from \"./simulasi-pembentukan-ikatan\"\r\n\r\ninterface Pathway {\r\n  id: number\r\n  title: string\r\n  description: string\r\n  order_number: number\r\n  type: string\r\n  content: any\r\n}\r\n\r\nexport default function PathwayContent({ user, pathway }: { user: User; pathway: Pathway }) {\r\n  const [progress, setProgress] = useState<any>(null)\r\n  const supabase = createClient()\r\n\r\n  useEffect(() => {\r\n    const fetchProgress = async () => {\r\n      const { data } = await supabase\r\n        .from(\"user_pathway_progress\")\r\n        .select(\"*\")\r\n        .eq(\"user_id\", user.id)\r\n        .eq(\"pathway_id\", pathway.id)\r\n        .single()\r\n\r\n      if (!data) {\r\n        await supabase.from(\"user_pathway_progress\").insert({\r\n          user_id: user.id,\r\n          pathway_id: pathway.id,\r\n          status: \"in_progress\",\r\n        })\r\n      }\r\n\r\n      setProgress(data)\r\n    }\r\n\r\n    fetchProgress()\r\n  }, [pathway.id, user.id, supabase])\r\n\r\n  const renderContent = () => {\r\n    if (pathway.type === \"simulation\") {\r\n      if (pathway.title.includes(\"Simulasi Senyawa\")) {\r\n        return <SimulasiSenyawa pathway={pathway} user={user} />\r\n      }\r\n      if (pathway.title.includes(\"Simulasi Pembentukan Ikatan Kimia\")) {\r\n        return <SimulasiPembentukanIkatan pathway={pathway} user={user} />\r\n      }\r\n      return <div className=\"text-red-600\">Simulasi tidak ditemukan: {pathway.title}</div>\r\n    }\r\n\r\n    switch (pathway.type) {\r\n      case \"topic\":\r\n        return <TopicView pathway={pathway} />\r\n      case \"quiz\":\r\n        return <QuizView pathway={pathway} user={user} />\r\n      case \"final_test\":\r\n        return <FinalTestView pathway={pathway} user={user} />\r\n      default:\r\n        return <div>Unknown pathway type</div>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\r\n      <header className=\"bg-white border-b border-slate-200 sticky top-0 z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between\">\r\n          <div>\r\n            <Link href=\"/dashboard\" className=\"text-gray-600 hover:text-gray-900 text-sm mb-2 inline-block\">\r\n              â† Kembali ke Dashboard\r\n            </Link>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">{pathway.title}</h1>\r\n          </div>\r\n          <UserMenu user={user} />\r\n        </div>\r\n      </header>\r\n\r\n      <section className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">{renderContent()}</section>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;AAsBe,SAAS,eAAe,EAAE,IAAI,EAAE,OAAO,EAAoC;;IACxF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kRAAQ,EAAM;IAC9C,MAAM,WAAW,IAAA,2JAAY;IAE7B,IAAA,mRAAS;oCAAC;YACR,MAAM;0DAAgB;oBACpB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,yBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,cAAc,QAAQ,EAAE,EAC3B,MAAM;oBAET,IAAI,CAAC,MAAM;wBACT,MAAM,SAAS,IAAI,CAAC,yBAAyB,MAAM,CAAC;4BAClD,SAAS,KAAK,EAAE;4BAChB,YAAY,QAAQ,EAAE;4BACtB,QAAQ;wBACV;oBACF;oBAEA,YAAY;gBACd;;YAEA;QACF;mCAAG;QAAC,QAAQ,EAAE;QAAE,KAAK,EAAE;QAAE;KAAS;IAElC,MAAM,gBAAgB;QACpB,IAAI,QAAQ,IAAI,KAAK,cAAc;YACjC,IAAI,QAAQ,KAAK,CAAC,QAAQ,CAAC,qBAAqB;gBAC9C,qBAAO,sSAAC,0KAAe;oBAAC,SAAS;oBAAS,MAAM;;;;;;YAClD;YACA,IAAI,QAAQ,KAAK,CAAC,QAAQ,CAAC,sCAAsC;gBAC/D,qBAAO,sSAAC,wLAAyB;oBAAC,SAAS;oBAAS,MAAM;;;;;;YAC5D;YACA,qBAAO,sSAAC;gBAAI,WAAU;;oBAAe;oBAA2B,QAAQ,KAAK;;;;;;;QAC/E;QAEA,OAAQ,QAAQ,IAAI;YAClB,KAAK;gBACH,qBAAO,sSAAC,oKAAS;oBAAC,SAAS;;;;;;YAC7B,KAAK;gBACH,qBAAO,sSAAC,mKAAQ;oBAAC,SAAS;oBAAS,MAAM;;;;;;YAC3C,KAAK;gBACH,qBAAO,sSAAC,4KAAa;oBAAC,SAAS;oBAAS,MAAM;;;;;;YAChD;gBACE,qBAAO,sSAAC;8BAAI;;;;;;QAChB;IACF;IAEA,qBACE,sSAAC;QAAK,WAAU;;0BACd,sSAAC;gBAAO,WAAU;0BAChB,cAAA,sSAAC;oBAAI,WAAU;;sCACb,sSAAC;;8CACC,sSAAC,mRAAI;oCAAC,MAAK;oCAAa,WAAU;8CAA8D;;;;;;8CAGhG,sSAAC;oCAAG,WAAU;8CAAoC,QAAQ,KAAK;;;;;;;;;;;;sCAEjE,sSAAC,sKAAQ;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAIpB,sSAAC;gBAAQ,WAAU;0BAA+C;;;;;;;;;;;;AAGxE;GAnEwB;KAAA"}}]
}